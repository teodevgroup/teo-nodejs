/* tslint:disable */
/* eslint-disable */

/* auto-generated by NAPI-RS */

export interface CookieCreateArgs {
  name: string
  value: string
  httpOnly?: boolean
  secure?: boolean
  sameSite?: string
  partitioned?: boolean
  maxAge?: number
  path?: string
  domain?: string
  expires?: Expiration
}
export declare class HandlerGroup {
  defineHandler(name: string, callback: (request: Request) => Response | Promise<Response>): void
}
export declare class Model {
  setData(key: string, value: unknown): void
  data(key: string): unknown
}
export declare class Field {
  setData(key: string, value: unknown): void
  data(key: string): unknown
}
export declare class Property {
  setData(key: string, value: unknown): void
  data(key: string): unknown
}
export declare class Relation {
  setData(key: string, value: unknown): void
  data(key: string): unknown
}
export declare class Namespace {
  isMain(): boolean
  isStd(): boolean
  path(): Array<string>
  namespace(name: string): Namespace | null
  namespaceOrCreate(name: string): Namespace
  namespaceAtPath(path: Array<string>): Namespace | null
  namespaceOrCreateAtPath(path: Array<string>): Namespace
  defineModelDecorator(name: string, body: (args: {[key: string]: any}, model: Model) => void): void
  defineModelFieldDecorator(name: string, body: (args: {[key: string]: any}, field: Field) => void): void
  defineModelRelationDecorator(name: string, body: (args: {[key: string]: any}, relation: Relation) => void): void
  defineModelPropertyDecorator(name: string, body: (args: {[key: string]: any}, property: Property) => void): void
  defineEnumDecorator(name: string, body: (args: {[key: string]: any}, e: Enum) => void): void
  defineEnumMemberDecorator(name: string, body: (args: {[key: string]: any}, member: EnumMember) => void): void
  _define_pipeline_item(name: string, creator: (args: {[key: string]: any}) => (ctx: PipelineCtx) => any | Promise<any>): void
  _define_transform_pipeline_item(name: string, creator: (args: {[key: string]: any}) => (ctx: PipelineCtx) => any | Promise<any>): void
  _define_validator_pipeline_item(name: string, creator: (args: {[key: string]: any}) => (ctx: PipelineCtx) => string | boolean | undefined | null | Promise<string | boolean | undefined | null>): void
  _define_callback_pipeline_item(name: string, creator: (args: {[key: string]: any}) => (ctx: PipelineCtx) => string | boolean | undefined | null | Promise<string | boolean | undefined | null>): void
  _define_compare_pipeline_item(name: string, creator: (args: {[key: string]: any}) => (oldValue: any, newValue: any, ctx: PipelineCtx) => void | Promise<void>): void
  defineHandler(name: string, callback: (request: Request) => Response | Promise<Response>): void
  defineHandlerGroup(name: string, callback: (group: HandlerGroup) => void): void
  defineModelHandlerGroup(name: string, callback: (group: HandlerGroup) => void): void
  defineRequestMiddleware(name: string, creator: (args: {[key: string]: any}) => (request: Request, next: (request: Request) => Promise<Response>) => Promise<Response> | Response): void
  defineHandlerMiddleware(name: string, creator: (args: {[key: string]: any}) => (request: Request, next: (request: Request) => Promise<Response>) => Promise<Response> | Response): void
}
export declare class DateOnly {
  constructor(string: string)
  toString(): string
}
export declare class ObjectId {
  toString(): string
  static fromString(string: string): unknown
}
/**
 * File
 * File only represent input file in form request.
 */
export declare class File {
  filepath: string
  contentType?: string
  filename: string
  filenameExt?: string
}
export declare class Range {
  upperbond(): number
  lowerbond(): number
  isClosed(): boolean
  isOpen(): boolean
}
export declare class OptionVariant { }
export declare class InterfaceEnumVariant { }
export declare class App {
  /** Create a Teo app. */
  constructor(argv?: Array<string> | undefined | null)
  /** @internal */
  static withCli(cli: boolean, argv?: Array<string> | undefined | null): App
  /** @internal */
  _prepare(): Promise<void>
  /** @internal */
  _run(): Promise<void>
  /** Run this app. */
  run(): Promise<void>
  /** Run before server is started. */
  setup(callback: (ctx: any) => void | Promise<void>): void
  /** Define a custom program. */
  program(name: string, desc: string | undefined, callback: (ctx: any) => void | Promise<void>): void
  mainNamespace(): Namespace
}
export declare class Expiration {
  static sessionExpiration(): Expiration
  static datetimeExpiration(datetime: Date): Expiration
  get isSession(): boolean
  get isDatetime(): boolean
  get datetime(): Date | null
}
export declare class Cookie {
  constructor(args: CookieCreateArgs)
  get name(): string
  set name(name: string)
  get value(): string
  set value(value: string)
  get valueTrimmed(): string
  get httpOnly(): boolean | null
  set httpOnly(httpOnly: boolean | null | undefined)
  get secure(): boolean | null
  set secure(secure: boolean | null | undefined)
  get sameSite(): "strict" | "lax" | "none"
  set sameSite(sameSite: "strict" | "lax" | "none")
  get partitioned(): boolean | null
  set partitioned(partitioned: boolean | null | undefined)
  get maxAge(): number | null
  set maxAge(maxAge: number | null | undefined)
  get path(): string | null
  set path(path: string | null | undefined)
  get domain(): string | null
  set domain(domain: string | null | undefined)
  get expires(): Expiration | null
  set expires(expires: Expiration | null | undefined)
}
export declare class Cookies {
  constructor(cookies?: Array<Cookie> | undefined | null)
  get(key: string): Cookie | null
  has(key: string): boolean
  push(cookie: Cookie): void
  clear(): void
  get length(): number
}
export declare class Headers {
  append(key: string, value: string): void
  set(key: string, value: string): void
  get(key: string): string | null
  getAll(key: string): Array<string>
  delete(key: string): void
  keys(): Array<string>
  values(): Array<string>
  get length(): number
  has(key: string): boolean
}
export declare class HandlerMatch {
  path(): Array<string>
  handlerName(): string
  captures(): {[key: string]: string} | any
}
export declare class Request {
  get version(): string
  set version(value: string)
  get method(): string
  set method(value: string)
  get uri(): string
  set uri(value: string)
  get scheme(): string | null
  get host(): string | null
  get path(): string
  get query(): string | null
  get contentType(): string | null
  get headers(): Headers
  get cookies(): Cookies
  get handlerMatch(): HandlerMatch
  get captures(): {[key: string]: string} | any
  get bodyObject(): any
  set bodyObject(value: unknown)
  get teo(): any
  get localValues(): LocalValues
  get localObjects(): LocalObjects
}
export declare class LocalObjects {
  set(key: string, value: any): void
  get(key: string): any
  has(key: string): boolean
  remove(key: string): void
  clear(): void
}
export declare class LocalValues {
  set(key: string, value: any): void
  get(key: string): any
  has(key: string): boolean
  remove(key: string): void
  clear(): void
}
export declare class Response {
  static empty(): Response
  static string(content: string, contentType: string): Response
  static teon(value: unknown): Response
  static html(content: string): Response
  static data(value: unknown): Response
  static dataMeta(data: unknown, meta: unknown): Response
  static file(path: string): Response
  static sendFile(base: string, path: string): Response
  static redirect(path: string): Response
  setCode(code: number): void
  code(): number
  headers(): Headers
  isFile(): boolean
  isText(): boolean
  isEmpty(): boolean
  isTeon(): boolean
  getText(): string | null
  getTeon(): unknown
  getFile(): string | null
  cookies(): Cookies
}
export declare class EnumMember {
  setData(key: string, value: unknown): void
  data(key: string): unknown
}
export declare class Enum {
  setData(key: string, value: unknown): void
  data(key: string): unknown
}
export declare class Pipeline { }
export declare class PipelineCtx {
  get value(): unknown
  get object(): unknown
  get path(): object
  get teo(): object
  get request(): Request | null
}
export declare class TestServer {
  constructor(app: App)
  /** @internal */
  _setup_0(): Promise<void>
  /** @internal */
  _setup_1(): void
    /** Setup the server. */
    setup(): Promise<void>
  reset(): Promise<void>
  process(request: TestRequest): Promise<TestResponse>
}
export declare class TestRequest {
  constructor(props: { method?: string, uri: string, headers?: { [key: string]: string }, body?: any })
  method(): string
  setMethod(method: string): void
  uri(): string
  setUri(uri: string): void
  insertHeader(key: string, value: string): void
  appendHeader(key: string, value: string): void
  body(): Buffer
  setBody(body: Buffer): void
}
export declare class TestResponse {
  status(): number
  version(): string
  body(): Buffer
  bodyAsString(): string
  bodyAsJson(): any
  containsHeader(name: string): boolean
  headerValue(name: string): string | null
  headerValues(name: string): Array<string>
  headerKeys(): string[]
  headersLength(): number
}
export class TeoError extends Error {
  constructor(message: string, code?: number, errors?: { [key: string]: string } | null)
  public get code(): number
  public get errorMessage(): string
  public get errors(): { [key: string]: string } | null
  public messagePrefixed(prefix: string): TeoError
  public pathPrefixed(prefix: string): TeoError
  public mapPath(mapper: (string) => string): TeoError
  public static notFound(message?: string): TeoError
  public static invalidRequest(message?: string): TeoError
  public static internalServerError(message?: string): TeoError
  public static unauthorized(message?: string): TeoError  
}
